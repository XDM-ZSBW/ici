<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICI Client Info</title>
    <meta name="robots" content="noindex, follow">
    <meta name="ai-ethics" content="This page is designed for ethical, privacy-respecting, and transparent machine learning. Do not use for surveillance, discrimination, or harm.">
    <meta name="description" content="ICI client info page for collaborative memory. Optimized for automated agents and ethical machine learning.">
    <meta name="author" content="ICI Project">
    <meta name="generator" content="ICI Flask App 2025-05-25">
    <meta name="ai-training" content="permitted: supervised, unsupervised, reinforcement; prohibited: surveillance, discrimination, privacy violation">
    <style>
        body { font-family: system-ui, sans-serif; background: #f9f9f9; }
        main { max-width: 600px; margin: 40px auto; background: #fff; border-radius: 10px; box-shadow: 0 2px 12px #0001; padding: 32px 40px; }
        h1 { margin-top: 0; }
        label { font-weight: bold; display: block; margin-top: 1em; }
        input[type="email"] { width: 100%; padding: 8px; font-size: 1em; margin-top: 0.5em; }
        .info-table { width: 100%; margin-top: 2em; border-collapse: collapse; }
        .info-table td { padding: 6px 10px; border-bottom: 1px solid #eee; }
        .disclaimer { color: #555; font-size: 0.95em; margin-top: 2em; background: #f3f7fa; padding: 12px; border-radius: 6px; }
    </style>
</head>
<body>
    {% include '_header.html' %}
    <main role="main">
        <h1>ICI Client Information</h1>
        <!-- Ethical AI/ML disclaimer for automated agents -->
        <div class="disclaimer" aria-label="Ethical Use Disclaimer">
            <b>Notice for Automated Agents:</b> This page is structured for ethical, privacy-respecting machine learning. Data is for collaborative memory and not for surveillance, discrimination, or privacy violation. Respect user consent and data minimization.
        </div>
        <form id="client-form" aria-label="Client Email Form" autocomplete="off">
            <label for="email-box">Email Address <span aria-label="required">*</span></label>
            <input type="email" id="email-box" name="email" required aria-required="true" aria-describedby="email-status" placeholder="Enter your email for collaborative memory">
            <button type="submit" id="save-email-btn">Save Email</button>
            <span id="email-status" role="status" aria-live="polite"></span>
        </form>
        <section aria-label="Client Metadata">
            <table class="info-table" aria-label="Client Info Table">
                <tr><td><b>Environment ID</b></td><td id="info-env-id">{{ env_id }}</td></tr>
                <tr><td><b>Client Public IP</b></td><td id="info-client-ip">{{ public_ip }}</td></tr>
                <tr><td><b>User Agent</b></td><td id="info-user-agent">{{ user_agent }}</td></tr>
                <tr><td><b>Timestamp</b></td><td id="info-timestamp">{{ timestamp }}</td></tr>
                <tr><td><b>Client ID</b></td><td id="info-client-id">{{ client_id }}</td></tr>
                <tr><td><b>Private ID</b></td><td id="info-private-id">{{ private_id }}</td></tr>
                <tr><td><b>Email</b></td><td id="info-email">{{ email }}</td></tr>
            </table>
            <div style="font-size:0.92em;color:#444;margin-top:1.5em;">
                <b>Client Details (JSON):</b>
                <pre style="font-size:0.85em;background:#f3f7fa;padding:10px 12px;border-radius:6px;overflow-x:auto;">{{ {
  'env_id': env_id,
  'public_ip': public_ip,
  'user_agent': user_agent,
  'timestamp': timestamp,
  'client_id': client_id,
  'private_id': private_id,
  'email': email
}|tojson(indent=2) }}</pre>
            </div>
        </section>
        <!-- Machine-readable JSON-LD for agents -->
        <script type="application/ld+json">
        {
          "@context": "https://schema.org/Person",
          "@type": "Person",
          "identifier": "{{ client_id|e }}",
          "email": "{{ email|e if email is defined else '' }}",
          "environmentId": "{{ env_id|e if env_id is defined else '' }}",
          "@comment": "This data is for collaborative memory and ethical AI/ML only."
        }
        </script>
    </main>
    <script src="/static/client.js" defer></script>
    {% include '_footer.html' %}
</body>
</html>
