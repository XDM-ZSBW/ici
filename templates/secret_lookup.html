<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secret Lookup Tool</title>
  <link rel="stylesheet" href="/static/join.css">
</head>
<body>
  {% include '_header.html' %}
  <div style="max-width:500px;margin:40px auto;padding:32px 24px;background:#f9f9f9;border-radius:10px;box-shadow:0 2px 12px #0001;">
    <h2>Secret Lookup Tool</h2>
    <form method="post">
      <label for="project_id">Google Cloud Project ID:</label><br>
      <input type="text" id="project_id" name="project_id" style="width:100%;margin-bottom:1em;" required><br>
      <label for="environment">Environment Type:</label><br>
      <select id="environment" name="environment" style="width:100%;margin-bottom:1em;" required>
        <option value="development">development</option>
        <option value="production">production</option>
      </select><br>
      <label for="secret_name">Secret Name:</label><br>
      <input type="text" id="secret_name" name="secret_name" style="width:100%;margin-bottom:1em;" required><br>
      <button type="submit" style="width:100%;padding:10px 0;">Lookup Secret</button>
    </form>
    {% if debug %}
      <div style="margin-top:2em;padding:1em;background:#e6f0ff;border:1px solid #b2d4ff;border-radius:6px;">
        <b>Debug:</b>
        <pre style="white-space:pre-wrap;word-break:break-all;">{{ debug }}</pre>
      </div>
    {% endif %}
    {% if result is not none or error is not none %}
      {% if result %}
        <div style="margin-top:2em;padding:1em;background:#e6ffe6;border:1px solid #b2ffb2;border-radius:6px;">
          <b>Secret Value:</b>
          <pre style="white-space:pre-wrap;word-break:break-all;">{{ result }}</pre>
        </div>
      {% elif error %}
        <div style="margin-top:2em;padding:1em;background:#ffe6e6;border:1px solid #ffb2b2;border-radius:6px;">
          <b>Error:</b> <pre style="white-space:pre-wrap;word-break:break-all;">{{ error }}</pre>
        </div>
      {% endif %}
    {% endif %}
  </div>
  {% include '_footer.html' %}
</body>
</html>
